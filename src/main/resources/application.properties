# ==============================================================================
# application.properties — Main configuration for the Steelworks Tracker.
#
# Spring Boot reads this file automatically at startup.
# Placeholders like ${DB_HOST} are resolved from environment variables.
# See .env.example for the list of variables you must set.
# ==============================================================================

# ── Server ────────────────────────────────────────────────────────────────────
# The port embedded Tomcat listens on.  Override with SERVER_PORT env var.
server.port=${SERVER_PORT:8080}

# ── Application name (shows up in logs / actuator) ───────────────────────────
spring.application.name=steelworks-tracker

# ── Datasource — Render-hosted PostgreSQL ─────────────────────────────────────
# JDBC URL format: jdbc:postgresql://host:port/database
spring.datasource.url=jdbc:postgresql://${DB_HOST}:${DB_PORT:5432}/${DB_NAME}
spring.datasource.username=${DB_USERNAME}
spring.datasource.password=${DB_PASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver

# ── JPA / Hibernate ──────────────────────────────────────────────────────────
# "validate" means Hibernate checks the schema matches our entities at startup
# but does NOT alter it.  Use the db/schema.sql file to manage DDL manually.
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
# Tell Hibernate we're using PostgreSQL syntax
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# ── Thymeleaf ─────────────────────────────────────────────────────────────────
# Disable template caching during development so changes show up immediately.
spring.thymeleaf.cache=false

# ── Logging ───────────────────────────────────────────────────────────────────
logging.level.com.steelworks.tracker=DEBUG
logging.level.org.hibernate.SQL=DEBUG
